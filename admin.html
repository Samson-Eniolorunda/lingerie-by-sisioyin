<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />
    <meta name="robots" content="noindex, nofollow" />
    <title>Admin | Lingerie by Sisioyin</title>
    <meta
      name="description"
      content="Admin dashboard for Lingerie by Sisioyin. Manage products, orders, and site settings."
    />
    <meta name="theme-color" content="#be185d" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/img/favicon.png" />
    <link rel="apple-touch-icon" href="assets/img/apple-touch-icon.png" />
    <link rel="manifest" href="site.webmanifest" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cormorant+Garamond:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/admin.css" />
  </head>
  <body class="admin-body">
    <!-- =========================================================================
         WELCOME SCREEN (shown after successful login)
         ========================================================================= -->
    <div class="welcome-overlay" id="welcomeOverlay" hidden>
      <div class="welcome-content">
        <div class="welcome-avatar" id="welcomeAvatar">A</div>
        <p class="welcome-greeting">Welcome back</p>
        <h1 class="welcome-name" id="welcomeName">Admin</h1>
        <div class="welcome-loader">
          <div class="welcome-loader-bar"></div>
        </div>
        <p class="welcome-text">Setting up your workspace...</p>
      </div>
    </div>

    <!-- =========================================================================
         TOAST NOTIFICATIONS
         ========================================================================= -->
    <div class="toast-container" id="toast" hidden>
      <div class="toast-content">
        <i class="fa-solid fa-circle-info"></i>
        <span class="toast-msg">Notification</span>
      </div>
    </div>

    <!-- Undo Toast -->
    <div class="undo-toast" id="undoToast" hidden>
      <span class="undo-msg" id="undoMsg">Item deleted</span>
      <button class="undo-btn" id="undoBtn" type="button">Undo</button>
      <div class="undo-timer">
        <div class="undo-timer-bar" id="undoTimerBar"></div>
      </div>
    </div>

    <!-- Bulk Actions Bar -->
    <div class="bulk-actions-bar" id="bulkActionsBar" hidden>
      <span><span class="bulk-count" id="bulkCount">0</span> selected</span>
      <div class="bulk-btns">
        <button class="bulk-btn delete" id="bulkDeleteBtn" type="button">
          <i class="fa-solid fa-trash"></i>
          Delete
        </button>
        <button class="bulk-btn cancel" id="bulkCancelBtn" type="button">
          Cancel
        </button>
      </div>
    </div>

    <!-- =========================================================================
         MODALS
         ========================================================================= -->

    <!-- Confirmation Modal -->
    <div class="modal-overlay" id="confirmModal" hidden>
      <div class="modal-box modal-confirm">
        <button
          class="modal-close-x"
          id="confirmCloseX"
          type="button"
          aria-label="Close"
        >
          <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="confirm-icon-wrapper" id="confirmIcon">
          <div class="confirm-icon danger">
            <i class="fa-solid fa-trash"></i>
          </div>
        </div>
        <h3 class="confirm-title" id="confirmTitle">Delete this item?</h3>
        <p class="confirm-message" id="confirmMessage">
          This action cannot be undone. The item will be permanently removed.
        </p>
        <div class="confirm-actions">
          <button
            class="confirm-btn cancel"
            id="confirmCancelBtn"
            type="button"
          >
            <i class="fa-solid fa-xmark"></i>
            Cancel
          </button>
          <button class="confirm-btn danger" id="confirmOkBtn" type="button">
            <i class="fa-solid fa-trash"></i>
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- Session Timeout Modal -->
    <div class="modal-overlay" id="sessionModal" hidden>
      <div class="modal-box modal-sm">
        <div class="modal-icon warning">
          <i class="fa-solid fa-clock"></i>
        </div>
        <h3 class="modal-title">Session Expiring</h3>
        <p class="modal-text">
          Your session will expire soon due to inactivity.
        </p>
        <div class="session-countdown" id="sessionCountdown">60</div>
        <div class="modal-actions">
          <button class="btn btn-outline" id="sessionLogoutBtn" type="button">
            Logout
          </button>
          <button class="btn btn-primary" id="sessionExtendBtn" type="button">
            Stay Logged In
          </button>
        </div>
      </div>
    </div>

    <!-- Invite Admin Modal -->
    <div class="modal-overlay" id="inviteAdminModal" hidden>
      <div class="modal-box modal-invite">
        <button
          class="modal-close-x"
          type="button"
          data-close-invite
          aria-label="Close"
        >
          <i class="fa-solid fa-xmark"></i>
        </button>
        <div class="invite-header">
          <div class="invite-icon">
            <i class="fa-solid fa-user-plus"></i>
          </div>
          <h3>Invite New Admin</h3>
          <p class="text-muted">Add a new admin to help manage your store</p>
        </div>
        <form id="inviteAdminForm" class="invite-form">
          <div class="form-group">
            <label for="inviteAdminEmail">
              <i class="fa-regular fa-envelope"></i>
              Email Address
            </label>
            <input
              type="email"
              id="inviteAdminEmail"
              class="form-input"
              placeholder="Enter email address..."
              autocomplete="email"
              required
            />
          </div>
          <div class="form-group">
            <label for="inviteAdminRole">
              <i class="fa-solid fa-shield-halved"></i>
              Role
            </label>
            <select id="inviteAdminRole" class="form-select">
              <option value="editor">Editor - Can add and edit products</option>
              <option value="super_admin">Super Admin - Full access</option>
            </select>
          </div>
          <button class="btn btn-primary btn-lg invite-submit" type="submit">
            <i class="fa-solid fa-paper-plane"></i>
            Send Invitation
          </button>
        </form>
      </div>
    </div>

    <!-- Complete Profile Modal -->
    <div class="modal-overlay" id="completeProfileModal" hidden>
      <div class="modal-box">
        <div class="modal-header">
          <h3>Complete Your Profile</h3>
          <button
            class="modal-close"
            type="button"
            data-close-profile
            aria-label="Close"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <form id="completeProfileForm" class="modal-form">
          <div class="form-row">
            <div class="form-group">
              <label for="cpFirstName">First Name</label>
              <input
                type="text"
                id="cpFirstName"
                class="form-input"
                placeholder="John"
                autocomplete="given-name"
                required
              />
            </div>
            <div class="form-group">
              <label for="cpLastName">Last Name</label>
              <input
                type="text"
                id="cpLastName"
                class="form-input"
                placeholder="Doe"
                autocomplete="family-name"
                required
              />
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" type="submit">
              <i class="fa-solid fa-check"></i>
              Save Profile
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Image Viewer Modal -->
    <div class="modal-overlay" id="imgViewerModal" hidden>
      <div class="modal-box modal-lg">
        <div class="modal-header">
          <div>
            <h3 id="imgViewerTitle">Product Images</h3>
            <p class="text-muted" id="imgViewerCount">0 images</p>
          </div>
          <button
            class="modal-close"
            type="button"
            data-close-viewer
            aria-label="Close"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="image-slider">
          <button
            type="button"
            class="slider-nav prev"
            data-viewer-prev
            aria-label="Previous"
          >
            <i class="fa-solid fa-chevron-left"></i>
          </button>
          <div class="slider-viewport">
            <div class="slider-track" id="imgViewerTrack"></div>
          </div>
          <button
            type="button"
            class="slider-nav next"
            data-viewer-next
            aria-label="Next"
          >
            <i class="fa-solid fa-chevron-right"></i>
          </button>
        </div>
        <div class="slider-dots" id="imgViewerDots"></div>
      </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal-overlay" id="orderDetailModal" hidden>
      <div class="modal-box modal-lg">
        <div class="modal-header">
          <h3>Order Details</h3>
          <button
            type="button"
            class="modal-close"
            id="closeOrderModal"
            data-close-order
            aria-label="Close"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="modal-body" id="orderModalBody">
          <!-- Order details populated via JS -->
        </div>
        <div class="modal-footer order-modal-footer" id="orderModalFooter">
          <!-- Status actions populated dynamically -->
        </div>
      </div>
    </div>

    <!-- Mobile Nav Overlay -->
    <div class="nav-overlay" id="navOverlay" hidden></div>

    <!-- =========================================================================
         AUTH PORTAL
         ========================================================================= -->
    <section class="auth-portal" data-auth-view>
      <div class="auth-container">
        <div class="auth-brand">
          <div class="auth-logo">
            <i class="fa-solid fa-heart"></i>
          </div>
          <h1>LBS Admin</h1>
          <p>Manage your store</p>
        </div>

        <!-- Auth Alert -->
        <div class="auth-alert" id="authMsg" hidden>
          <i class="fa-solid fa-triangle-exclamation"></i>
          <span id="authMsgText">Error message</span>
        </div>

        <!-- Auth Tabs -->
        <div class="auth-tabs" id="authSwitch">
          <button class="auth-tab active" data-auth-tab="login" type="button">
            Login
          </button>
          <button class="auth-tab" data-auth-tab="signup" type="button">
            Sign Up
          </button>
        </div>

        <!-- Login Form -->
        <form
          id="loginForm"
          class="auth-form"
          data-auth-view-name="login"
          novalidate
        >
          <div class="form-group">
            <label for="loginEmail">Email Address</label>
            <div class="input-icon">
              <i class="fa-regular fa-envelope"></i>
              <input
                type="email"
                id="loginEmail"
                class="form-input"
                placeholder="admin@example.com"
                autocomplete="email"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="loginPassword">Password</label>
            <div class="input-icon has-toggle">
              <i class="fa-solid fa-lock"></i>
              <input
                type="password"
                id="loginPassword"
                class="form-input"
                placeholder="••••••••"
                autocomplete="current-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                data-toggle-password
                aria-label="Toggle password"
              >
                <i class="fa-regular fa-eye"></i>
              </button>
            </div>
          </div>

          <button class="btn btn-primary btn-lg btn-block" type="submit">
            <i class="fa-solid fa-right-to-bracket"></i>
            Access Dashboard
          </button>

          <div class="auth-links">
            <button type="button" class="auth-link" id="openResetBtn">
              Forgot Password?
            </button>
          </div>
        </form>

        <!-- Signup Form -->
        <form
          id="signupForm"
          class="auth-form"
          data-auth-view-name="signup"
          hidden
          novalidate
        >
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input
                type="text"
                id="firstName"
                class="form-input"
                placeholder="John"
                autocomplete="given-name"
                required
              />
            </div>
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input
                type="text"
                id="lastName"
                class="form-input"
                placeholder="Doe"
                autocomplete="family-name"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="signupEmail">Email Address</label>
            <div class="input-icon">
              <i class="fa-regular fa-envelope"></i>
              <input
                type="email"
                id="signupEmail"
                class="form-input"
                placeholder="admin@example.com"
                autocomplete="email"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="signupPassword">Password</label>
            <div class="input-icon has-toggle">
              <i class="fa-solid fa-lock"></i>
              <input
                type="password"
                id="signupPassword"
                class="form-input"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                data-toggle-password
                aria-label="Toggle password"
              >
                <i class="fa-regular fa-eye"></i>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="signupPassword2">Confirm Password</label>
            <div class="input-icon has-toggle">
              <i class="fa-solid fa-lock"></i>
              <input
                type="password"
                id="signupPassword2"
                class="form-input"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                data-toggle-password
                aria-label="Toggle password"
              >
                <i class="fa-regular fa-eye"></i>
              </button>
            </div>
          </div>

          <button class="btn btn-primary btn-lg btn-block" type="submit">
            <i class="fa-solid fa-user-plus"></i>
            Register Admin
          </button>
        </form>

        <!-- Reset Password Form -->
        <form
          id="resetForm"
          class="auth-form"
          data-auth-view-name="reset"
          hidden
          novalidate
        >
          <div class="auth-form-header">
            <h3>Reset Password</h3>
            <p>We'll send a recovery link to your email.</p>
          </div>

          <div class="form-group">
            <label for="resetEmail">Email Address</label>
            <div class="input-icon">
              <i class="fa-regular fa-envelope"></i>
              <input
                type="email"
                id="resetEmail"
                class="form-input"
                placeholder="admin@example.com"
                autocomplete="email"
                required
              />
            </div>
          </div>

          <button class="btn btn-primary btn-lg btn-block" type="submit">
            <i class="fa-solid fa-paper-plane"></i>
            Send Reset Link
          </button>

          <div class="auth-links">
            <button type="button" class="auth-link" id="backToLoginBtn">
              <i class="fa-solid fa-arrow-left"></i>
              Back to Login
            </button>
          </div>
        </form>

        <!-- Set New Password Form -->
        <form
          id="setPasswordForm"
          class="auth-form"
          data-auth-view-name="setpw"
          hidden
          novalidate
        >
          <div class="auth-form-header">
            <h3>Create New Password</h3>
            <p>Enter your new password below.</p>
          </div>

          <div class="form-group">
            <label for="newPassword">New Password</label>
            <div class="input-icon has-toggle">
              <i class="fa-solid fa-lock"></i>
              <input
                type="password"
                id="newPassword"
                class="form-input"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                data-toggle-password
                aria-label="Toggle password"
              >
                <i class="fa-regular fa-eye"></i>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="newPassword2">Confirm Password</label>
            <div class="input-icon has-toggle">
              <i class="fa-solid fa-lock"></i>
              <input
                type="password"
                id="newPassword2"
                class="form-input"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                data-toggle-password
                aria-label="Toggle password"
              >
                <i class="fa-regular fa-eye"></i>
              </button>
            </div>
          </div>

          <button class="btn btn-primary btn-lg btn-block" type="submit">
            <i class="fa-solid fa-check"></i>
            Update Password
          </button>
        </form>
      </div>
    </section>

    <!-- =========================================================================
         ADMIN DASHBOARD
         ========================================================================= -->
    <main class="admin-dashboard" data-admin-view hidden>
      <!-- Sidebar -->
      <aside class="admin-sidebar" id="sidebar">
        <div class="sidebar-brand">
          <a href="/admin" class="sidebar-logo">
            <i class="fa-solid fa-heart"></i>
            <span>LBS Admin</span>
          </a>
          <p class="sidebar-tagline">Store Management</p>
        </div>

        <nav class="sidebar-nav">
          <button
            class="nav-item active"
            data-view-target="dashboard"
            type="button"
          >
            <i class="fa-solid fa-chart-line"></i>
            <span>Dashboard</span>
          </button>

          <button class="nav-item" data-view-target="inventory" type="button">
            <i class="fa-solid fa-layer-group"></i>
            <span>Inventory</span>
          </button>

          <button class="nav-item" data-view-target="orders" type="button">
            <i class="fa-solid fa-receipt"></i>
            <span>Orders</span>
            <span class="nav-badge" id="pendingOrdersBadge" hidden>0</span>
          </button>

          <button class="nav-item" data-view-target="studio" type="button">
            <i class="fa-solid fa-plus"></i>
            <span>Add Product</span>
          </button>

          <div class="nav-divider"></div>

          <button class="nav-item" data-view-target="activity" type="button">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span>Activity Logs</span>
          </button>

          <button class="nav-item" data-view-target="admins" type="button">
            <i class="fa-solid fa-users-gear"></i>
            <span>Manage Admins</span>
          </button>

          <button class="nav-item" data-view-target="siteImages" type="button">
            <i class="fa-solid fa-images"></i>
            <span>Site Images</span>
          </button>

          <button class="nav-item" data-view-target="trash" type="button">
            <i class="fa-solid fa-trash-can"></i>
            <span>Trash</span>
          </button>

          <button class="nav-item" data-view-target="reviews" type="button">
            <i class="fa-solid fa-star-half-stroke"></i>
            <span>Reviews</span>
          </button>

          <button class="nav-item" data-view-target="analytics" type="button">
            <i class="fa-solid fa-chart-pie"></i>
            <span>Analytics</span>
          </button>

          <button class="nav-item" data-view-target="customers" type="button">
            <i class="fa-solid fa-users"></i>
            <span>Customers</span>
          </button>

          <button class="nav-item" data-view-target="messages" type="button">
            <i class="fa-solid fa-envelope"></i>
            <span>Messages</span>
            <span class="nav-badge" id="unreadMessagesBadge" hidden>0</span>
          </button>

          <div class="nav-divider"></div>

          <button class="nav-item" id="openInviteModalBtn" type="button">
            <i class="fa-solid fa-user-plus"></i>
            <span>Invite Admin</span>
          </button>

          <a href="/home" class="nav-item">
            <i class="fa-solid fa-store"></i>
            <span>View Store</span>
          </a>
        </nav>

        <div class="sidebar-footer">
          <div class="admin-user" id="adminUserInfo">
            <div class="admin-avatar">
              <i class="fa-solid fa-user"></i>
            </div>
            <div class="admin-info">
              <span class="admin-name" id="adminName">Admin</span>
              <span class="admin-role" id="adminRole">Super Admin</span>
            </div>
          </div>
          <!-- Theme toggle for mobile (inside sidebar) -->
          <div class="sidebar-theme-toggle-wrapper">
            <label class="theme-switch" id="sidebarThemeToggle">
              <input type="checkbox" id="themeCheckbox" />
              <span class="theme-slider">
                <i class="fa-solid fa-sun sun-icon"></i>
                <i class="fa-solid fa-moon moon-icon"></i>
              </span>
            </label>
          </div>
          <button class="nav-item danger" id="logoutBtn" type="button">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span>Logout</span>
          </button>
        </div>
      </aside>

      <!-- Main Content -->
      <div class="admin-main">
        <!-- Top Bar -->
        <header class="admin-topbar">
          <div class="topbar-left">
            <button
              class="menu-toggle"
              type="button"
              id="menuToggleBtn"
              aria-label="Toggle menu"
            >
              <span class="bar"></span>
              <span class="bar"></span>
              <span class="bar"></span>
            </button>
            <div class="page-info">
              <h2 id="pageTitleDisplay">Dashboard</h2>
              <p class="text-muted" id="adminStatusText">Welcome back</p>
            </div>
          </div>

          <div class="topbar-right">
            <div class="export-dropdown" id="exportDropdown">
              <button
                class="topbar-btn"
                id="exportBtn"
                type="button"
                title="Export Data"
              >
                <i class="fa-solid fa-file-export"></i>
                <span>Export</span>
                <i class="fa-solid fa-chevron-down export-chevron"></i>
              </button>
              <div class="export-menu" id="exportMenu" hidden>
                <button
                  type="button"
                  class="export-option"
                  data-export="products"
                >
                  <i class="fa-solid fa-boxes-stacked"></i> Products
                </button>
                <button
                  type="button"
                  class="export-option"
                  data-export="orders"
                >
                  <i class="fa-solid fa-receipt"></i> Orders
                </button>
                <button
                  type="button"
                  class="export-option"
                  data-export="customers"
                >
                  <i class="fa-solid fa-users"></i> Customers
                </button>
                <button
                  type="button"
                  class="export-option"
                  data-export="reviews"
                >
                  <i class="fa-solid fa-star"></i> Reviews
                </button>
                <button
                  type="button"
                  class="export-option"
                  data-export="activity"
                >
                  <i class="fa-solid fa-clock-rotate-left"></i> Activity Logs
                </button>
              </div>
            </div>

            <div class="stat-pill">
              <span class="label">Products:</span>
              <strong class="value" id="productCountText">0</strong>
            </div>

            <button
              class="topbar-btn icon-only"
              data-refresh
              type="button"
              title="Refresh Data"
            >
              <i class="fa-solid fa-rotate"></i>
            </button>

            <div class="theme-toggle">
              <button
                class="theme-btn"
                data-theme-btn="light"
                type="button"
                title="Light Mode"
              >
                <i class="fa-solid fa-sun"></i>
              </button>
              <button
                class="theme-btn"
                data-theme-btn="system"
                type="button"
                title="System"
              >
                <i class="fa-solid fa-desktop"></i>
              </button>
              <button
                class="theme-btn"
                data-theme-btn="dark"
                type="button"
                title="Dark Mode"
              >
                <i class="fa-solid fa-moon"></i>
              </button>
            </div>
          </div>
        </header>

        <!-- =====================================================================
                 DASHBOARD VIEW
                 ===================================================================== -->
        <section class="content-view active" id="viewDashboard">
          <div class="dashboard-stats">
            <div class="stat-card">
              <div class="stat-card-icon products">
                <i class="fa-solid fa-layer-group"></i>
              </div>
              <div class="stat-card-info">
                <span class="stat-card-value" id="totalProductsCount">0</span>
                <span class="stat-card-label">Total Products</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-card-icon orders">
                <i class="fa-solid fa-shopping-bag"></i>
              </div>
              <div class="stat-card-info">
                <span class="stat-card-value" id="totalOrdersCount">0</span>
                <span class="stat-card-label">Total Orders</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-card-icon revenue">
                <i class="fa-solid fa-naira-sign"></i>
              </div>
              <div class="stat-card-info">
                <span class="stat-card-value" id="totalRevenueAmount">₦0</span>
                <span class="stat-card-label">Total Revenue</span>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-card-icon pending">
                <i class="fa-solid fa-clock"></i>
              </div>
              <div class="stat-card-info">
                <span class="stat-card-value" id="dashPendingCount">0</span>
                <span class="stat-card-label">Pending Orders</span>
              </div>
            </div>
          </div>

          <div class="dashboard-grid">
            <div class="dashboard-card">
              <div class="card-header">
                <h3><i class="fa-solid fa-shopping-bag"></i> Recent Orders</h3>
                <a href="#" class="card-link" data-go-to="orders">View All</a>
              </div>
              <div class="card-body" id="recentOrdersList">
                <div
                  class="skeleton skeleton-card"
                  style="margin-bottom: 8px"
                ></div>
                <div
                  class="skeleton skeleton-card"
                  style="margin-bottom: 8px"
                ></div>
                <div class="skeleton skeleton-card"></div>
              </div>
            </div>

            <div class="dashboard-card">
              <div class="card-header">
                <h3>
                  <i class="fa-solid fa-boxes-stacked"></i> Low Stock Products
                </h3>
                <a href="#" class="card-link" data-go-to="inventory"
                  >View All</a
                >
              </div>
              <div class="card-body" id="lowStockList">
                <div
                  class="skeleton skeleton-card"
                  style="margin-bottom: 8px"
                ></div>
                <div
                  class="skeleton skeleton-card"
                  style="margin-bottom: 8px"
                ></div>
                <div class="skeleton skeleton-card"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- =====================================================================
                 INVENTORY VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewInventory">
          <div class="inventory-toolbar">
            <div class="search-box">
              <i class="fa-solid fa-magnifying-glass"></i>
              <input
                type="text"
                id="inventorySearch"
                class="search-input"
                placeholder="Search products..."
              />
              <button
                type="button"
                class="search-clear"
                id="searchClearBtn"
                hidden
                aria-label="Clear"
              >
                <i class="fa-solid fa-xmark"></i>
              </button>
            </div>

            <div class="filter-group">
              <div class="dropdown-wrapper">
                <button
                  type="button"
                  class="dropdown-trigger"
                  id="categoryFilterTrigger"
                >
                  <span id="categoryFilterLabel">All Categories</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu" id="categoryFilterMenu" hidden>
                  <button class="dropdown-item active" data-value="">
                    All Categories
                  </button>
                  <div class="dropdown-divider"></div>
                  <button class="dropdown-item" data-value="Accessories">
                    Accessories
                  </button>
                  <button class="dropdown-item" data-value="Lingerie">
                    Lingerie
                  </button>
                  <button class="dropdown-item" data-value="Loungewear">
                    Loungewear
                  </button>
                  <button class="dropdown-item" data-value="Underwear">
                    Underwear
                  </button>
                </div>
              </div>

              <div class="dropdown-wrapper">
                <button
                  type="button"
                  class="dropdown-trigger"
                  id="stockFilterTrigger"
                >
                  <span id="stockFilterLabel">All Stock</span>
                  <i class="fa-solid fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu" id="stockFilterMenu" hidden>
                  <button class="dropdown-item active" data-value="">
                    All Stock
                  </button>
                  <div class="dropdown-divider"></div>
                  <button class="dropdown-item" data-value="in-stock">
                    In Stock
                  </button>
                  <button class="dropdown-item" data-value="out-of-stock">
                    Out of Stock
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="inventory-grid" id="adminProductsList">
            <p class="text-muted text-center">Loading products...</p>
          </div>

          <p class="no-results" id="noResultsMsg" hidden>
            <i class="fa-solid fa-search"></i>
            No products match your search
          </p>

          <div class="pagination" id="paginationBar" hidden>
            <button class="page-btn" id="pagePrev" type="button" disabled>
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <span class="page-info" id="pageInfo">Page 1 of 1</span>
            <button class="page-btn" id="pageNext" type="button" disabled>
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
        </section>

        <!-- =====================================================================
                 ORDERS VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewOrders">
          <div class="orders-header">
            <div class="orders-stats" id="ordersStats">
              <div class="order-stat pending">
                <div class="order-stat-icon">
                  <i class="fa-solid fa-clock"></i>
                </div>
                <div class="order-stat-info">
                  <span class="stat-value" id="pendingOrdersCount">0</span>
                  <span class="stat-label">Pending</span>
                </div>
              </div>
              <div class="order-stat processing">
                <div class="order-stat-icon">
                  <i class="fa-solid fa-gear"></i>
                </div>
                <div class="order-stat-info">
                  <span class="stat-value" id="processingOrdersCount">0</span>
                  <span class="stat-label">Processing</span>
                </div>
              </div>
              <div class="order-stat shipped">
                <div class="order-stat-icon">
                  <i class="fa-solid fa-truck"></i>
                </div>
                <div class="order-stat-info">
                  <span class="stat-value" id="shippedOrdersCount">0</span>
                  <span class="stat-label">Shipped</span>
                </div>
              </div>
              <div class="order-stat delivered">
                <div class="order-stat-icon">
                  <i class="fa-solid fa-check-circle"></i>
                </div>
                <div class="order-stat-info">
                  <span class="stat-value" id="deliveredOrdersCount">0</span>
                  <span class="stat-label">Delivered</span>
                </div>
              </div>
            </div>

            <div class="orders-actions">
              <select
                class="form-select"
                id="orderStatusFilter"
                aria-label="Filter orders by status"
              >
                <option value="">All Status</option>
                <option value="pending">Pending</option>
                <option value="processing">Processing</option>
                <option value="shipped">Shipped</option>
                <option value="delivered">Delivered</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <button
                class="btn btn-outline"
                id="refreshOrdersBtn"
                type="button"
              >
                <i class="fa-solid fa-rotate"></i>
                Refresh
              </button>
            </div>
          </div>

          <div class="table-responsive">
            <table class="data-table" id="ordersTable">
              <thead>
                <tr>
                  <th>Order ID</th>
                  <th>Date</th>
                  <th>Customer</th>
                  <th>Items</th>
                  <th>Total</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="ordersTableBody">
                <tr>
                  <td colspan="7" class="text-center text-muted">
                    Loading orders...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="pagination" id="ordersPagination" hidden>
            <button class="page-btn" id="ordersPrevBtn" type="button" disabled>
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <span class="page-info" id="ordersPageInfo">Page 1 of 1</span>
            <button class="page-btn" id="ordersNextBtn" type="button" disabled>
              <i class="fa-solid fa-chevron-right"></i>
            </button>
          </div>
        </section>

        <!-- =====================================================================
                 ADD/EDIT PRODUCT (STUDIO)
                 ===================================================================== -->
        <section class="content-view" id="viewStudio">
          <div class="studio-container">
            <div class="studio-header">
              <h3 id="formTitle">Add New Product</h3>
              <button class="btn btn-outline" type="button" data-clear-form>
                <i class="fa-solid fa-rotate-left"></i>
                Clear Form
              </button>
            </div>

            <form id="productForm" class="product-form" novalidate>
              <input type="hidden" id="productId" />

              <!-- Basic Info -->
              <div class="form-section">
                <h4 class="form-section-title">Basic Information</h4>

                <div class="form-row">
                  <div class="form-group flex-2">
                    <label for="pName">Product Name</label>
                    <input
                      type="text"
                      id="pName"
                      class="form-input"
                      placeholder="e.g. Lace Bralette"
                      required
                    />
                  </div>
                  <div class="form-group flex-1">
                    <label for="pPrice">Price (₦)</label>
                    <input
                      type="number"
                      id="pPrice"
                      class="form-input"
                      placeholder="0"
                      min="0"
                      required
                    />
                  </div>
                </div>

                <div class="form-group">
                  <label for="pDescription">Description</label>
                  <textarea
                    id="pDescription"
                    class="form-textarea"
                    rows="3"
                    placeholder="Product details..."
                  ></textarea>
                </div>
              </div>

              <!-- Categories & Stock -->
              <div class="form-section">
                <h4 class="form-section-title">Categories & Stock</h4>

                <div class="form-row">
                  <div class="form-group">
                    <label for="pCategory">Category</label>
                    <select id="pCategory" class="form-select" required>
                      <option value="">Select category...</option>
                      <option value="Accessories">Accessories</option>
                      <option value="Lingerie">Lingerie</option>
                      <option value="Loungewear">Loungewear</option>
                      <option value="Underwear">Underwear</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="pGender">Gender</label>
                    <select id="pGender" class="form-select">
                      <option value="">Select gender...</option>
                      <option value="Women">Women</option>
                      <option value="Men">Men</option>
                      <option value="Unisex">Unisex</option>
                      <option value="Kids">Kids</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="pQty">Stock Quantity</label>
                    <input
                      type="number"
                      id="pQty"
                      class="form-input"
                      placeholder="0"
                      min="0"
                      required
                    />
                  </div>
                </div>
              </div>

              <!-- Variants -->
              <div class="form-section">
                <h4 class="form-section-title">Variants</h4>

                <div class="form-row">
                  <div class="form-group">
                    <label for="pDeliveryType">Delivery Type</label>
                    <select id="pDeliveryType" class="form-select">
                      <option value="">Select...</option>
                      <option value="standard">Standard Delivery</option>
                      <option value="express">Same-day Delivery</option>
                    </select>
                  </div>

                  <!-- Size Type - kept for backwards compatibility -->
                  <div class="form-group admin-compat-hidden">
                    <label for="pSizeName">Available Sizes</label>
                    <div class="size-stock-list" id="sizeStockList"></div>
                    <input type="hidden" id="pSizeName" value="" />
                    <input type="hidden" id="pSizeQty" value="0" />
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="pColorMode">Color Type</label>
                    <select id="pColorMode" class="form-select">
                      <option value="">Select...</option>
                      <option value="open">Open Selection</option>
                      <option value="assorted">Assorted Pack</option>
                    </select>
                  </div>

                  <div class="form-group" id="packTypeWrap" hidden>
                    <label for="pPackType">Pack Type</label>
                    <select id="pPackType" class="form-select">
                      <option value="">Select...</option>
                      <option value="2-in-1">2-in-1</option>
                      <option value="3-in-1">3-in-1</option>
                      <option value="4-in-1">4-in-1</option>
                    </select>
                  </div>
                </div>

                <!-- Unified Variant Input (Size + Color + Qty in one row) -->
                <div class="form-group full-width" id="variantInputWrap">
                  <label for="pVariantSize">
                    <i class="fa-solid fa-cubes"></i> Stock Variants
                    <span class="variant-counter" id="variantCounter">0</span>
                  </label>
                  <p class="form-hint">
                    Add stock for each size and color combination
                  </p>

                  <div class="variant-input-card">
                    <div class="variant-input-row">
                      <select id="pVariantSize" class="form-select">
                        <option value="">Size...</option>
                        <option value="XS">XS</option>
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                        <option value="XL">XL</option>
                        <option value="XXL">XXL</option>
                        <option value="XXXL">XXXL</option>
                        <option value="One Size">One Size</option>
                      </select>
                      <input
                        type="text"
                        id="pVariantColor"
                        class="form-input"
                        placeholder="Color (e.g. Red)"
                        list="colorSuggestions"
                      />
                      <datalist id="colorSuggestions">
                        <option value="Black"></option>
                        <option value="White"></option>
                        <option value="Red"></option>
                        <option value="Blue"></option>
                        <option value="Pink"></option>
                        <option value="Navy"></option>
                        <option value="Beige"></option>
                        <option value="Nude"></option>
                        <option value="Grey"></option>
                        <option value="Purple"></option>
                        <option value="Green"></option>
                        <option value="Brown"></option>
                        <option value="Burgundy"></option>
                        <option value="Coral"></option>
                        <option value="Rose"></option>
                      </datalist>
                      <input
                        type="number"
                        id="pVariantQty"
                        class="form-input"
                        placeholder="Qty"
                        min="0"
                        value=""
                      />
                      <button
                        type="button"
                        id="addVariantBtn"
                        class="btn btn-primary"
                      >
                        <i class="fa-solid fa-plus"></i> Add
                      </button>
                    </div>
                    <div class="variant-quick-actions">
                      <span class="quick-label">Quick add:</span>
                      <button
                        type="button"
                        class="quick-size-btn"
                        data-size="S"
                      >
                        S
                      </button>
                      <button
                        type="button"
                        class="quick-size-btn"
                        data-size="M"
                      >
                        M
                      </button>
                      <button
                        type="button"
                        class="quick-size-btn"
                        data-size="L"
                      >
                        L
                      </button>
                      <button
                        type="button"
                        class="quick-size-btn"
                        data-size="XL"
                      >
                        XL
                      </button>
                    </div>
                  </div>

                  <!-- Variant List Display -->
                  <div class="variant-list" id="variantList">
                    <!-- Variant items added dynamically -->
                  </div>

                  <!-- Hidden inputs for form data -->
                  <input type="hidden" id="pSizes" value="[]" />
                  <input type="hidden" id="pColors" value="[]" />
                  <input type="hidden" id="pVariantStock" value="[]" />
                </div>
              </div>

              <!-- Images -->
              <div class="form-section">
                <h4 class="form-section-title">Product Images</h4>

                <div class="upload-area" id="uploadArea">
                  <input
                    type="file"
                    id="pImageFiles"
                    accept="image/*"
                    multiple
                    hidden
                  />
                  <label for="pImageFiles" class="upload-label">
                    <i class="fa-solid fa-cloud-arrow-up"></i>
                    <span>Click to upload images</span>
                    <small>PNG, JPG up to 5MB each</small>
                  </label>
                </div>

                <div class="image-slider" id="studioImgSlider" hidden>
                  <button
                    type="button"
                    class="slider-nav prev"
                    data-studio-prev
                    aria-label="Previous"
                  >
                    <i class="fa-solid fa-chevron-left"></i>
                  </button>
                  <div class="slider-viewport">
                    <div class="slider-track" id="studioImgTrack"></div>
                  </div>
                  <button
                    type="button"
                    class="slider-nav next"
                    data-studio-next
                    aria-label="Next"
                  >
                    <i class="fa-solid fa-chevron-right"></i>
                  </button>
                </div>
                <div class="slider-dots" id="studioImgDots" hidden></div>
              </div>

              <!-- Form Footer -->
              <div class="form-footer">
                <div class="toggle-group">
                  <label class="toggle-pill">
                    <input type="checkbox" id="pIsActive" checked />
                    <span>Live</span>
                  </label>
                  <label class="toggle-pill">
                    <input type="checkbox" id="pIsNew" />
                    <span>New Arrival</span>
                  </label>
                </div>

                <div class="form-actions">
                  <button class="btn btn-primary btn-lg" type="submit">
                    <i class="fa-solid fa-floppy-disk"></i>
                    Save Product
                  </button>
                  <button
                    class="btn btn-danger"
                    type="button"
                    id="deleteBtn"
                    hidden
                  >
                    <i class="fa-regular fa-trash-can"></i>
                    Delete
                  </button>
                </div>
              </div>
            </form>
          </div>
        </section>

        <!-- =====================================================================
                 ACTIVITY LOGS VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewActivity">
          <div class="activity-container">
            <div class="section-header">
              <div class="section-header-content">
                <div>
                  <h3>Recent Activity</h3>
                  <p class="text-muted">
                    Track all admin actions across the system
                  </p>
                </div>
              </div>
              <button
                class="btn btn-outline"
                id="refreshActivityBtn"
                type="button"
              >
                <i class="fa-solid fa-rotate"></i>
                Refresh
              </button>
            </div>
            <div class="activity-list" id="activityLogsList">
              <div class="skeleton-row">
                <div class="skeleton skeleton-circle"></div>
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--long"></div>
                </div>
              </div>
              <div class="skeleton-row">
                <div class="skeleton skeleton-circle"></div>
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--med"></div>
                </div>
              </div>
              <div class="skeleton-row">
                <div class="skeleton skeleton-circle"></div>
                <div style="flex: 1">
                  <div class="skeleton skeleton-text"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- =====================================================================
                 MANAGE ADMINS VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewAdmins">
          <div class="admins-container">
            <div class="section-header">
              <div>
                <h3>Admin Users</h3>
                <p class="text-muted">Manage roles and permissions</p>
              </div>
              <button
                class="btn btn-primary"
                id="openInviteFromAdminsBtn"
                type="button"
              >
                <i class="fa-solid fa-user-plus"></i>
                Invite Admin
              </button>
            </div>
            <div class="admins-list" id="adminsList">
              <div class="skeleton-row">
                <div class="skeleton skeleton-circle"></div>
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--med"></div>
                  <div
                    class="skeleton skeleton-text skeleton-text--short"
                  ></div>
                </div>
              </div>
              <div class="skeleton-row">
                <div class="skeleton skeleton-circle"></div>
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--med"></div>
                  <div
                    class="skeleton skeleton-text skeleton-text--short"
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- =====================================================================
                 SITE IMAGES VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewSiteImages">
          <div class="site-images-container">
            <div class="section-header">
              <div class="section-header-content">
                <div>
                  <h3>Site Images</h3>
                  <p class="text-muted">
                    Manage hero and category images for your website
                  </p>
                </div>
              </div>
              <button
                class="btn btn-primary"
                id="saveSiteImagesBtn"
                type="button"
              >
                <i class="fa-solid fa-floppy-disk"></i>
                Save All Changes
              </button>
            </div>

            <!-- Hero Image Section -->
            <div class="image-section">
              <h4 class="image-section-title">
                <i class="fa-solid fa-star"></i>
                Hero Image
              </h4>
              <p class="image-section-desc">
                This is the main image displayed on the homepage hero section.
              </p>
              <div class="image-upload-card" data-setting="hero_image">
                <div class="image-preview" id="heroImagePreview">
                  <img src="" alt="Hero Preview" />
                </div>
                <div class="image-input-group">
                  <div class="input-tabs">
                    <button
                      type="button"
                      class="input-tab active"
                      data-tab="url"
                      data-target="heroImageUrl"
                    >
                      <i class="fa-solid fa-link"></i> URL
                    </button>
                    <button
                      type="button"
                      class="input-tab"
                      data-tab="upload"
                      data-target="heroImageFile"
                    >
                      <i class="fa-solid fa-upload"></i> Upload
                    </button>
                  </div>
                  <input
                    type="url"
                    id="heroImageUrl"
                    class="form-input image-url-input"
                    placeholder="https://example.com/image.jpg"
                  />
                  <input
                    type="file"
                    id="heroImageFile"
                    class="form-input image-file-input"
                    accept="image/*"
                    hidden
                  />
                </div>
              </div>
            </div>

            <!-- Category Images Section -->
            <div class="image-section">
              <h4 class="image-section-title">
                <i class="fa-solid fa-grid-2"></i>
                Shop Category Images
              </h4>
              <p class="image-section-desc">
                These images are displayed in the Shop Categories section on the
                homepage.
              </p>

              <div class="category-images-grid">
                <!-- Lingerie -->
                <div class="image-upload-card" data-setting="category_lingerie">
                  <div class="card-label">Lingerie</div>
                  <div class="image-preview" id="lingerieImagePreview">
                    <img src="" alt="Lingerie Preview" />
                  </div>
                  <div class="image-input-group">
                    <div class="input-tabs input-tabs-sm">
                      <button
                        type="button"
                        class="input-tab active"
                        data-tab="url"
                        data-target="lingerieImageUrl"
                      >
                        <i class="fa-solid fa-link"></i>
                      </button>
                      <button
                        type="button"
                        class="input-tab"
                        data-tab="upload"
                        data-target="lingerieImageFile"
                      >
                        <i class="fa-solid fa-upload"></i>
                      </button>
                    </div>
                    <input
                      type="url"
                      id="lingerieImageUrl"
                      class="form-input image-url-input"
                      placeholder="Image URL..."
                    />
                    <input
                      type="file"
                      id="lingerieImageFile"
                      class="form-input image-file-input"
                      accept="image/*"
                      hidden
                    />
                  </div>
                </div>

                <!-- Loungewear -->
                <div
                  class="image-upload-card"
                  data-setting="category_loungewear"
                >
                  <div class="card-label">Loungewear</div>
                  <div class="image-preview" id="loungewearImagePreview">
                    <img src="" alt="Loungewear Preview" />
                  </div>
                  <div class="image-input-group">
                    <div class="input-tabs input-tabs-sm">
                      <button
                        type="button"
                        class="input-tab active"
                        data-tab="url"
                        data-target="loungewearImageUrl"
                      >
                        <i class="fa-solid fa-link"></i>
                      </button>
                      <button
                        type="button"
                        class="input-tab"
                        data-tab="upload"
                        data-target="loungewearImageFile"
                      >
                        <i class="fa-solid fa-upload"></i>
                      </button>
                    </div>
                    <input
                      type="url"
                      id="loungewearImageUrl"
                      class="form-input image-url-input"
                      placeholder="Image URL..."
                    />
                    <input
                      type="file"
                      id="loungewearImageFile"
                      class="form-input image-file-input"
                      accept="image/*"
                      hidden
                    />
                  </div>
                </div>

                <!-- Underwear -->
                <div
                  class="image-upload-card"
                  data-setting="category_underwear"
                >
                  <div class="card-label">Underwear</div>
                  <div class="image-preview" id="underwearImagePreview">
                    <img src="" alt="Underwear Preview" />
                  </div>
                  <div class="image-input-group">
                    <div class="input-tabs input-tabs-sm">
                      <button
                        type="button"
                        class="input-tab active"
                        data-tab="url"
                        data-target="underwearImageUrl"
                      >
                        <i class="fa-solid fa-link"></i>
                      </button>
                      <button
                        type="button"
                        class="input-tab"
                        data-tab="upload"
                        data-target="underwearImageFile"
                      >
                        <i class="fa-solid fa-upload"></i>
                      </button>
                    </div>
                    <input
                      type="url"
                      id="underwearImageUrl"
                      class="form-input image-url-input"
                      placeholder="Image URL..."
                    />
                    <input
                      type="file"
                      id="underwearImageFile"
                      class="form-input image-file-input"
                      accept="image/*"
                      hidden
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- =====================================================================
                 TRASH VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewTrash">
          <div class="trash-container">
            <div class="section-header">
              <div>
                <h3>Deleted Products</h3>
                <p class="text-muted">Restore or permanently delete items</p>
              </div>
              <button class="btn btn-danger" id="emptyTrashBtn" type="button">
                <i class="fa-solid fa-trash"></i>
                Empty Trash
              </button>
            </div>
            <div class="trash-list" id="trashProductsList">
              <div class="skeleton-row">
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--long"></div>
                </div>
              </div>
              <div class="skeleton-row">
                <div style="flex: 1">
                  <div class="skeleton skeleton-text skeleton-text--med"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- =====================================================================
                 REVIEWS VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewReviews">
          <div class="section-header">
            <div>
              <h3>Customer Reviews</h3>
              <p class="text-muted">Manage product reviews and ratings</p>
            </div>
            <div class="header-actions">
              <select id="reviewsFilterStatus" class="form-select">
                <option value="all">All Reviews</option>
                <option value="pending">Pending</option>
                <option value="approved">Approved</option>
                <option value="rejected">Rejected</option>
              </select>
              <select id="reviewsFilterRating" class="form-select">
                <option value="all">All Ratings</option>
                <option value="5">5 Stars</option>
                <option value="4">4 Stars</option>
                <option value="3">3 Stars</option>
                <option value="2">2 Stars</option>
                <option value="1">1 Star</option>
              </select>
            </div>
          </div>
          <div class="reviews-stats" id="reviewsStats"></div>
          <div class="reviews-list" id="adminReviewsList">
            <p class="text-muted text-center">Loading reviews...</p>
          </div>
        </section>

        <!-- =====================================================================
                 ANALYTICS VIEW
                 ===================================================================== -->
        <section class="content-view" id="viewAnalytics">
          <div class="section-header">
            <div>
              <h3>Analytics Overview</h3>
              <p class="text-muted">
                Monitor Google Analytics &amp; Facebook Pixel performance
              </p>
            </div>
            <div class="header-actions">
              <select id="analyticsPeriod" class="form-select">
                <option value="7">Last 7 Days</option>
                <option value="30" selected>Last 30 Days</option>
                <option value="90">Last 90 Days</option>
              </select>
              <button
                type="button"
                class="btn btn-outline btn-sm"
                id="analyticsRefreshBtn"
              >
                <i class="fa-solid fa-arrows-rotate"></i> Refresh
              </button>
            </div>
          </div>

          <!-- Setup Status -->
          <div class="analytics-setup" id="analyticsSetup">
            <div class="analytics-setup-card" id="gaSetupCard">
              <div class="analytics-setup-icon ga">
                <i class="fa-brands fa-google"></i>
              </div>
              <div class="analytics-setup-info">
                <h4>Google Analytics</h4>
                <p class="analytics-setup-status" id="gaStatus">Checking...</p>
              </div>
              <span class="analytics-setup-badge" id="gaBadge">—</span>
            </div>
            <div class="analytics-setup-card" id="fbSetupCard">
              <div class="analytics-setup-icon fb">
                <i class="fa-brands fa-facebook-f"></i>
              </div>
              <div class="analytics-setup-info">
                <h4>Facebook Pixel</h4>
                <p class="analytics-setup-status" id="fbStatus">Checking...</p>
              </div>
              <span class="analytics-setup-badge" id="fbBadge">—</span>
            </div>
          </div>

          <!-- Site Traffic Overview (from database) -->
          <div class="analytics-stats" id="analyticsStats">
            <div class="stat-box">
              <div class="stat-box-icon"><i class="fa-solid fa-eye"></i></div>
              <div class="stat-box-value" id="anPageViews">0</div>
              <div class="stat-box-label">Page Views</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-icon"><i class="fa-solid fa-users"></i></div>
              <div class="stat-box-value" id="anTotalCustomers">0</div>
              <div class="stat-box-label">Total Customers</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-icon">
                <i class="fa-solid fa-cart-shopping"></i>
              </div>
              <div class="stat-box-value" id="anTotalOrders">0</div>
              <div class="stat-box-label">Total Orders</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-icon">
                <i class="fa-solid fa-naira-sign"></i>
              </div>
              <div class="stat-box-value" id="anTotalRevenue">₦0</div>
              <div class="stat-box-label">Total Revenue</div>
            </div>
            <div class="stat-box">
              <div class="stat-box-icon">
                <i class="fa-solid fa-arrow-trend-up"></i>
              </div>
              <div class="stat-box-value" id="anConversionRate">0%</div>
              <div class="stat-box-label">Conversion Rate</div>
            </div>
          </div>

          <!-- Charts Row -->
          <div class="analytics-charts">
            <div class="analytics-chart-card">
              <h4><i class="fa-solid fa-chart-line"></i> Revenue Over Time</h4>
              <div class="analytics-chart" id="revenueChart">
                <div class="analytics-bar-chart" id="revenueBarChart"></div>
              </div>
            </div>
            <div class="analytics-chart-card">
              <h4><i class="fa-solid fa-chart-pie"></i> Orders by Status</h4>
              <div class="analytics-chart" id="ordersStatusChart">
                <div class="analytics-donut" id="ordersDonut"></div>
              </div>
            </div>
          </div>

          <!-- Traffic Chart -->
          <div class="analytics-chart-card">
            <h4><i class="fa-solid fa-chart-area"></i> Traffic Over Time</h4>
            <div class="analytics-chart">
              <div class="analytics-bar-chart" id="trafficBarChart"></div>
            </div>
          </div>

          <!-- Top Pages -->
          <div class="analytics-chart-card">
            <h4><i class="fa-solid fa-file-lines"></i> Top Pages</h4>
            <div class="analytics-table-wrap" id="topPagesTable">
              <div
                class="skeleton skeleton-text"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--long"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--med"
                style="height: 16px; margin: 12px 16px"
              ></div>
            </div>
          </div>

          <!-- Top Products -->
          <div class="analytics-chart-card">
            <h4>
              <i class="fa-solid fa-ranking-star"></i> Top Selling Products
            </h4>
            <div class="analytics-table-wrap" id="topProductsTable">
              <div
                class="skeleton skeleton-text"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--long"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--med"
                style="height: 16px; margin: 12px 16px"
              ></div>
            </div>
          </div>

          <!-- Visitor Location Analytics -->
          <div class="analytics-chart-card">
            <h4><i class="fa-solid fa-globe"></i> Visits by Country</h4>
            <div class="analytics-table-wrap" id="geoCountryTable">
              <div
                class="skeleton skeleton-text"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--long"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--med"
                style="height: 16px; margin: 12px 16px"
              ></div>
            </div>
          </div>

          <div class="analytics-chart-card">
            <h4>
              <i class="fa-solid fa-map-location-dot"></i> Visits by Nigerian
              State
            </h4>
            <div class="analytics-table-wrap" id="geoStateTable">
              <div
                class="skeleton skeleton-text"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--long"
                style="height: 16px; margin: 12px 16px"
              ></div>
              <div
                class="skeleton skeleton-text skeleton-text--med"
                style="height: 16px; margin: 12px 16px"
              ></div>
            </div>
          </div>
        </section>

        <!-- ═══ Customers View ═══ -->
        <section class="content-view" id="viewCustomers">
          <div class="view-header">
            <h2><i class="fa-solid fa-users"></i> Customers</h2>
            <div class="view-header-actions">
              <input
                type="search"
                id="customerSearch"
                class="search-input"
                placeholder="Search customers..."
              />
              <div class="export-dropdown" id="customerExportDropdown">
                <button
                  class="topbar-btn"
                  id="customerExportBtn"
                  type="button"
                  title="Export Customers"
                >
                  <i class="fa-solid fa-file-export"></i>
                  <span>Export</span>
                  <i class="fa-solid fa-chevron-down export-chevron"></i>
                </button>
                <div class="export-menu" id="customerExportMenu" hidden>
                  <button
                    type="button"
                    class="export-option"
                    data-customer-export="csv"
                  >
                    <i class="fa-solid fa-file-csv"></i> CSV
                  </button>
                  <button
                    type="button"
                    class="export-option"
                    data-customer-export="json"
                  >
                    <i class="fa-solid fa-file-code"></i> JSON
                  </button>
                  <button
                    type="button"
                    class="export-option"
                    data-customer-export="txt"
                  >
                    <i class="fa-solid fa-file-lines"></i> Plain Text
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="customers-stats" id="customerStats">
            <div class="stat-card stat-card--mini">
              <span class="stat-value" id="custTotalCount">0</span>
              <span class="stat-label">Total</span>
            </div>
            <div class="stat-card stat-card--mini">
              <span class="stat-value" id="custNewCount">0</span>
              <span class="stat-label">New (30d)</span>
            </div>
            <div class="stat-card stat-card--mini">
              <span class="stat-value" id="custWithOrdersCount">0</span>
              <span class="stat-label">With Orders</span>
            </div>
          </div>
          <div class="table-responsive" id="customersTableWrap">
            <table class="table" id="customersTable">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Orders</th>
                  <th>Total Spent</th>
                  <th>Joined</th>
                </tr>
              </thead>
              <tbody id="customersBody">
                <tr>
                  <td colspan="7">
                    <div
                      class="skeleton skeleton-text"
                      style="height: 16px; margin: 8px 0"
                    ></div>
                  </td>
                </tr>
                <tr>
                  <td colspan="7">
                    <div
                      class="skeleton skeleton-text skeleton-text--long"
                      style="height: 16px; margin: 8px 0"
                    ></div>
                  </td>
                </tr>
                <tr>
                  <td colspan="7">
                    <div
                      class="skeleton skeleton-text skeleton-text--med"
                      style="height: 16px; margin: 8px 0"
                    ></div>
                  </td>
                </tr>
                <tr>
                  <td colspan="7">
                    <div
                      class="skeleton skeleton-text"
                      style="height: 16px; margin: 8px 0"
                    ></div>
                  </td>
                </tr>
                <tr>
                  <td colspan="7">
                    <div
                      class="skeleton skeleton-text skeleton-text--long"
                      style="height: 16px; margin: 8px 0"
                    ></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
        <!-- ═══════════════════════════════════════════════════════════════
             MESSAGES VIEW — Split-pane Inbox
             ═══════════════════════════════════════════════════════════════ -->
        <section class="content-view" id="viewMessages">
          <!-- Top Bar -->
          <div class="inbox-topbar">
            <div class="inbox-topbar__left">
              <h3 class="inbox-title"><i class="fa-solid fa-inbox"></i> Inbox</h3>
              <div class="inbox-stats">
                <span class="inbox-stat" id="msgTotalCount" title="Total"><i class="fa-solid fa-envelope"></i> <b>0</b></span>
                <span class="inbox-stat inbox-stat--unread" id="msgUnreadCount" title="Unread"><i class="fa-solid fa-circle-dot"></i> <b>0</b></span>
                <span class="inbox-stat inbox-stat--replied" id="msgRepliedCount" title="Replied"><i class="fa-solid fa-check-double"></i> <b>0</b></span>
              </div>
            </div>
            <div class="inbox-topbar__right">
              <button class="inbox-icon-btn" id="refreshMessagesBtn" type="button" title="Refresh"><i class="fa-solid fa-arrows-rotate"></i></button>
            </div>
          </div>

          <!-- Split Pane Container -->
          <div class="inbox-container">
            <!-- LEFT: Message List Panel -->
            <div class="inbox-list-panel" id="inboxListPanel">
              <!-- Search & Filters -->
              <div class="inbox-search-bar">
                <div class="inbox-search-wrap">
                  <i class="fa-solid fa-magnifying-glass"></i>
                  <input type="search" class="inbox-search-input" id="msgSearchInput" placeholder="Search messages..." />
                </div>
              </div>
              <div class="inbox-filters">
                <button class="inbox-filter-chip active" data-filter="" type="button">All</button>
                <button class="inbox-filter-chip" data-filter="unread" type="button"><i class="fa-solid fa-circle" style="font-size:6px;vertical-align:middle;margin-right:4px;color:var(--clr-primary)"></i>Unread</button>
                <button class="inbox-filter-chip" data-filter="replied" type="button"><i class="fa-solid fa-check" style="font-size:10px;margin-right:4px;color:var(--clr-success)"></i>Replied</button>
                <button class="inbox-filter-chip" data-filter="read" type="button">Read</button>
                <select class="inbox-category-select" id="msgSubjectFilter">
                  <option value="">All Categories</option>
                  <option value="general">General</option>
                  <option value="order">Order Issue</option>
                  <option value="returns">Returns</option>
                  <option value="sizing">Sizing</option>
                  <option value="wholesale">Wholesale</option>
                  <option value="other">Other</option>
                  <option value="order_notification">Orders</option>
                </select>
              </div>
              <!-- Message Cards -->
              <div class="inbox-messages-scroll" id="messagesList">
                <div class="inbox-skeleton">
                  <div class="inbox-skeleton-card"><div class="skeleton skeleton-circle"></div><div style="flex:1"><div class="skeleton skeleton-text skeleton-text--med"></div><div class="skeleton skeleton-text skeleton-text--long"></div></div></div>
                  <div class="inbox-skeleton-card"><div class="skeleton skeleton-circle"></div><div style="flex:1"><div class="skeleton skeleton-text skeleton-text--med"></div><div class="skeleton skeleton-text skeleton-text--long"></div></div></div>
                  <div class="inbox-skeleton-card"><div class="skeleton skeleton-circle"></div><div style="flex:1"><div class="skeleton skeleton-text skeleton-text--med"></div><div class="skeleton skeleton-text skeleton-text--long"></div></div></div>
                  <div class="inbox-skeleton-card"><div class="skeleton skeleton-circle"></div><div style="flex:1"><div class="skeleton skeleton-text skeleton-text--med"></div><div class="skeleton skeleton-text skeleton-text--long"></div></div></div>
                  <div class="inbox-skeleton-card"><div class="skeleton skeleton-circle"></div><div style="flex:1"><div class="skeleton skeleton-text skeleton-text--med"></div><div class="skeleton skeleton-text skeleton-text--long"></div></div></div>
                </div>
              </div>
              <!-- Pagination -->
              <div class="inbox-pagination" id="messagesPagination"></div>
            </div>

            <!-- RIGHT: Conversation Detail Panel -->
            <div class="inbox-detail-panel" id="inboxDetailPanel">
              <!-- Empty state -->
              <div class="inbox-detail-empty" id="inboxDetailEmpty">
                <div class="inbox-detail-empty__icon">
                  <i class="fa-regular fa-envelope-open"></i>
                </div>
                <h4>Select a conversation</h4>
                <p>Choose a message from the left to view details and reply</p>
              </div>
              <!-- Detail content (hidden until a message is selected) -->
              <div class="inbox-detail-content" id="inboxDetailContent" hidden>
                <!-- Detail Header -->
                <div class="inbox-detail-header">
                  <button class="inbox-back-btn" id="inboxBackBtn" type="button" title="Back to list"><i class="fa-solid fa-arrow-left"></i></button>
                  <div class="inbox-detail-header__info">
                    <h4 class="inbox-detail-subject" id="msgDetailSubject">Subject</h4>
                    <div class="inbox-detail-meta">
                      <span class="inbox-detail-date" id="msgDetailDate"></span>
                      <span class="inbox-detail-badge" id="msgDetailStatus"></span>
                    </div>
                  </div>
                  <div class="inbox-detail-header__actions">
                    <button class="inbox-icon-btn" id="msgMarkUnreadBtn" type="button" title="Mark as unread"><i class="fa-solid fa-envelope"></i></button>
                    <button class="inbox-icon-btn inbox-icon-btn--danger" id="msgDeleteBtn" type="button" title="Delete"><i class="fa-solid fa-trash-can"></i></button>
                  </div>
                </div>
                <!-- Sender Card -->
                <div class="inbox-sender-card">
                  <div class="inbox-sender-avatar" id="msgSenderAvatar">?</div>
                  <div class="inbox-sender-info">
                    <span class="inbox-sender-name" id="msgSenderName">Name</span>
                    <span class="inbox-sender-email" id="msgSenderEmail">email</span>
                  </div>
                  <div class="inbox-sender-tags">
                    <span class="inbox-tag" id="msgSenderPhone" hidden><i class="fa-solid fa-phone"></i> <span></span></span>
                    <span class="inbox-tag" id="msgSenderOrderId" hidden><i class="fa-solid fa-receipt"></i> <span></span></span>
                  </div>
                </div>
                <!-- Conversation Thread -->
                <div class="inbox-thread" id="inboxThread">
                  <!-- Original message -->
                  <div class="inbox-bubble inbox-bubble--customer" id="msgDetailBody"></div>
                  <!-- Reply thread populated by JS -->
                  <div id="msgReplyThread"></div>
                </div>
                <!-- Compose Area -->
                <div class="inbox-compose" id="inboxCompose">
                  <div class="inbox-compose-from">
                    <label><i class="fa-solid fa-at"></i> From:</label>
                    <select class="inbox-compose-select" id="msgFromEmail">
                      <option value="support@lingeriebysisioyin.store">support@</option>
                      <option value="info@lingeriebysisioyin.store">info@</option>
                      <option value="orders@lingeriebysisioyin.store">orders@</option>
                      <option value="contact@lingeriebysisioyin.store">contact@</option>
                    </select>
                  </div>
                  <div class="inbox-compose-editor">
                    <textarea class="inbox-compose-textarea" id="msgReplyText" rows="4" placeholder="Write your reply..."></textarea>
                  </div>
                  <div class="inbox-compose-footer">
                    <button class="btn btn-primary inbox-send-btn" id="msgSendReplyBtn" type="button">
                      <i class="fa-solid fa-paper-plane"></i> Send Reply
                    </button>
                    <span class="inbox-compose-hint">Sent as branded email via Resend</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Scripts -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"
    ></script>
    <script defer src="assets/js/config.js"></script>
    <script defer src="assets/js/utils.js"></script>
    <script defer src="assets/js/supabase.js"></script>
    <script defer src="assets/js/app.js"></script>
    <script defer src="assets/js/admin.js"></script>
  </body>
</html>
